<?xml version="1.0"?>
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<configuration supports_final="false">
    <property>
        <name>nifi.version</name>
        <value>1.12.1.{{stack_version_buildnum}}</value>
        <on-ambari-upgrade add="true" update="true" delete="false"/>
        <description>The version number of the current release.</description>
    </property>

    <property>
        <name>nifi.cluster.protocol.heartbeat.missable.max</name>
        <value>8</value>
        <on-ambari-upgrade add="true"/>
        <description>Maximum number of heartbeats a Cluster Coordinator can miss for a node in the cluster before the Cluster Coordinator updates the node status to Disconnected. The default value is 8.</description>
    </property>

    <property>
        <name>nifi.web.max.content.size</name>
        <value/>
        <value-attributes>
            <empty-value-valid>true</empty-value-valid>
        </value-attributes>
        <on-ambari-upgrade add="true"/>
        <description>The maximum size (HTTP Content-Length) for PUT and POST requests. No default value is set for backward compatibility. Providing a value for this property enables the Content-Length filter on all incoming API requests (except Site-to-Site and cluster communications). A suggested value is 20 MB.</description>
    </property>

    <property>
        <name>nifi.web.max.requests.per.second</name>
        <value>30000</value>
        <on-ambari-upgrade add="true"/>
        <description>The maximum number of requests from a connection per second. Requests in excess of this are first delayed, then throttled.</description>
    </property>

    <property>
        <name>nifi.web.should.send.server.version</name>
        <value>true</value>
        <on-ambari-upgrade add="true"/>
        <description>Selects whether Jetty server version is exposed in HTTP responses. Default is true</description>
    </property>

    <property>
        <name>nifi.flowfile.repository.retain.orphaned.flowfiles</name>
        <value>true</value>
        <on-ambari-upgrade add="true"/>
        <description>Selects whether flowfile repository should keep orphaned flowfiles. Default is true</description>
    </property>

    <property>
        <name>nifi.content.claim.max.flow.files</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.flowfile.repository.partitions</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.provenance.repository.debug.frequency</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.swap.in.period</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.swap.in.threads</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.swap.out.period</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.swap.out.threads</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.web.war.directory</name>
        <on-ambari-upgrade delete="true"/>
    </property>

    <property>
        <name>nifi.security.allow.anonymous.authentication</name>
        <value>true</value>
        <on-ambari-upgrade add="true"/>
        <description>Whether anonymous authentication is allowed when running over HTTPS. If set to true, client certificates are not required to connect via TLS.</description>
    </property>
</configuration>
